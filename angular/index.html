<!DOCTYPE html>
<html ng-app="myApp">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>单击执行</title>
<!-- 1.3.0 beta14 支持 controller -->
<script type="text/javascript" src="http://cdn.bootcss.com/angular.js/1.3.0-beta.14/angular.min.js"></script>
<script type="text/javascript">

var m1 = angular.module("myApp",[]) ;
m1.filter("firstUppercase",function(){
    return function(str){
        return str.charAt(0).toUpperCase() + str.substring(1);
    }
});
m1.controller("Aaa",["$scope","$filter",function($scope,$filter){
    var origin_data = [
        { name: "maotingfeng" , age: "20" } ,
        { name: "red" , age: "24" } ,
        { name: "dark" , age: "30" } ,
        { name: "green" , age: "10" }
    ]
    $scope.dataList = origin_data ;
    $scope.fnSort = function(args){
        arguments.callee["fnSort"+args] = !arguments.callee["fnSort"+args] ;
        $scope.dataList = $filter("orderBy")( $scope.dataList , args , arguments.callee["fnSort"+args] );
    }
    $scope.fnFilter = function(){
        $scope.dataList = $filter("filter")( origin_data , $scope.filterVal );
    }
}]);
//angular.bootstrap(document,["myApp"])           // 初始化模块

</script>
</head>
<body>

    <div id="aa" ng-controller="Aaa">
        <input type="text" ng-model="filterVal" >
        <input type="button" ng-click="fnFilter()" value="搜索" >
        <table border="1">
            <tr>
                <th ng-click="fnSort('name')">姓名</th>
                <th ng-click="fnSort('age')">年龄</th>
            </tr>
            <tr ng-repeat=" data in dataList ">
                <td>{{ data.name }}</td>
                <td>{{ data.age }}</td>
            </tr>
        </table>
    </div>

</body>
</html>